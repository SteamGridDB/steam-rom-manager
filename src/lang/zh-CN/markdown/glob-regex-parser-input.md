#

## 用户的 glob-regex

这是您创建从文件路径提取标题的 glob 的位置。 如果您不知道如何构建通配符，请阅读所有的 [特殊通配符](#special-glob-characters)。

## 它是如何工作的？

除了常规的 glob 特殊字符外，glob 解析器还要求你输入一个 `\${/.../}`{.noWrap} 格式的变量。 解析器将找到它在glob中的位置，例如：

| 用户的 glob              | 位置         |
| --------------------- | ---------- |
| `${/.+/}/*/*.txt`     | 从左边开始的第一层级 |
| `{*,*/*}/${/.+/}.txt` | 从右边开始的第一层级 |
| `**/${/.+/}/*.txt`    | 从右边开始的第二层级 |

获得 `${/.../}`{.noWrap} 位置后，`${/.../}`{.noWrap} 将被替换为通配符 `*`。

## 正则表达式后处理

在标题提取后，将通过正则表达式对其进行处理。 有三种方法可以编写正则表达式。

### 不带捕获的正则表达式：`${/.+/}`{.noWrap}

这几乎与 “Glob” 解析器完全相同 -- 每个提取的标题片段都将被使用。

### 带有捕获括号的正则表达式：`${/(.+)/}`{.noWrap}

允许多个匹配和捕获组。 例如，这里有2个匹配组和多个捕获组：
```
${/(.*?)\s*\[USA\]\s*(.+)|(.*)/}
```
从左到右，第一个匹配所有正确捕获的分组将被使用。 此外，所有捕获组将被**合并**。

### 带有捕获括号和替换文本的正则表达式：`${/(.+)/|...}`{.noWrap}

与 [带有捕获括号的正则表达式](#regular-expression-with-capture-brackets) 类似，但处理捕获组的方式不同。 替换文本可以用于移动捕获的组。 例如：
```
${/(.*?)\s*\[USA\]\s*(.+)/|Second capture group: "$2" precedes the first one, which is "$1" }
```
如果我们的第一个捕获组是 `Legend of Zelda`，第二个捕获组是 `SUPER EDITION`，那么我们将得到以下（不太有用）的标题：

`第二个捕获组："SUPER EDITION" 在第一个捕获组 "Legend of Zelda" 之前。`

未经处理的文本将保持默认状态，因此如果您看到一些尾随字符，请确保在正则表达式末尾添加 `.*` 或在开头添加 `.*?`。

### 支持的标志

允许的标志是 `i`，`g` 和 `u`。

## 限制

位置提取存在一些限制 -- 如果无法提取位置，则 glob 无效。 大多数情况下，您会收到有关不能执行的警告。但是，如果您发现一种允许的组合却产生了不正确的标题，请在 [GitHub](https://github.com/FrogTheFrog/steam-rom-manager/issues) 上提出问题。
